<html>

<style>
body {
  font: 10px sans-serif;
}

.linage {
  fill: none;
  stroke: #000;
}

svg{
	width: 100%
}

.marriage {
  fill: none;
  stroke: black;
}

.man {
  background-color: lightblue;
  border-radius: 5px;
  border: 1px solid #000000;
  height: 40px;
}

.woman {
  background-color: pink;
  border-radius: 5px;
  border: 1px solid #000000;
  height: 40px;
}

.emphasis {
  font-style: italic;
}

.nodeText{
    font: 10px Tahoma;
}

.man P{
	padding-top: 5%;
	vertical-align: middle;
}
.woman P{
	padding-top: 5%;
}

p {
  padding: 0;
  margin: 0;
}
</style>

<head>
	<meta charset="utf-8">  
	<body>
		<h1>Demo, hello world</h1>
		<div id="royal_tree_gorm"></div>
		<div id="royal_tree_estridsen"></div>
		<div id="royal_tree_oldenborg1"></div>
		<div id="royal_tree_oldenborg2"></div>
		<div id="royal_tree_glucksburg"></div>


		<script src="https://d3js.org/d3.v4.min.js" charset="utf-8"></script>
		<script src="https://cdn.jsdelivr.net/lodash/4.17.4/lodash.min.js"></script>
		<script src="https://cdn.rawgit.com/ErikGartner/dTree/master/dist/dTree.min.js"></script>
		<script>			
d3.json("gorm_tree.json", function(error, gorm) {
d3.json("estridsen_tree.json", function(error, estridsen) {
d3.json("oldenborg_tree.json", function(error, oldenborg1) {
d3.json("oldenborg_tree_part2.json", function(error, oldenborg2) {
d3.json("glucksburg_tree.json", function(error, glucksburg) {
	if (error) throw error;
	
	//Build tree with the dTree library
	dTree.init(gorm, {
		target: "#royal_tree_gorm",
		debug: true,
		height: 400,
		width: 800,
		callbacks: {
			nodeClick: function(name, extra) {
				console.log(name);							
			}
		},
		margin: {
			top: -50,
			right: 0,
			bottom: 0,
			left: 0
		},
		nodeWidth: 80
	})
	
	
	
	dTree.init(estridsen, {
		target: "#royal_tree_estridsen",
		debug: true,
		height: 400,
		width: 800,
		callbacks: {
			nodeClick: function(name, extra) {
				console.log(name);							
			}
		},
		margin: {
			top: -50,
			right: 0,
			bottom: 0,
			left: 0
		},
		nodeWidth: 80
	})
	
		dTree.init(oldenborg1, {
		target: "#royal_tree_oldenborg1",
		debug: true,
		height: 400,
		width: 800,
		callbacks: {
			nodeClick: function(name, extra) {
				console.log(name);							
			}
		},
		margin: {
			top: -50,
			right: 0,
			bottom: 0,
			left: 0
		},
		nodeWidth: 80
	})
	
		dTree.init(oldenborg2, {
		target: "#royal_tree_oldenborg2",
		debug: true,
		height: 400,
		width: 800,
		callbacks: {
			nodeClick: function(name, extra) {
				console.log(name);							
			}
		},
		margin: {
			top: -50,
			right: 0,
			bottom: 0,
			left: 0
		},
		nodeWidth: 80
	})
	
		dTree.init(glucksburg, {
		target: "#royal_tree_glucksburg",
		debug: true,
		height: 400,
		width: 800,
		callbacks: {
			nodeClick: function(name, extra) {
				console.log(name);							
			}
		},
		margin: {
			top: -50,
			right: 0,
			bottom: 0,
			left: 0
		},
		nodeWidth: 80
	})
	
	
	
	//Show a portrait in the node on mouse over.
	d3.selectAll(".woman")
		.on("mouseover", function(){
			d3.select(this)
				.style("background-image", function(){
					var image = "url('img/"+d3.select(this).text()+".jpg')";
					console.log(image.replace(/(\r\n|\n|\r)/gm,"")); 
					return image.replace(/(\r\n|\n|\r)/gm,"");//Remove whitespace from text to select picture url.
				})
				.style("max-width", "100%")
				.style("max-height", "100%")
				.style("background-size","100% 100%")
				.style("text-indent", "-9999px");  
				
		 })
		 //Restore original node on mouse out.
		.on("mouseout", function(){ 
			d3.select(this)
				.style("background-image", "none")
				.style("max-width", "100%")
				.style("max-height", "100%")
				.style("background-size","100% 100%")
				.style("text-indent", "0");
		 });	


	d3.selectAll(".man")
		.on("mouseover", function(){
			d3.select(this)
				.style("background-image", function(){
					var image = "url('img/"+d3.select(this).text()+".jpg')";
					console.log(image.replace(/(\r\n|\n|\r)/gm,"")); 
					return image.replace(/(\r\n|\n|\r)/gm,"");//Remove whitespace from text to select picture url.
				})
				.style("max-width", "100%")
				.style("max-height", "100%")
				.style("background-size","100% 100%")
				.style("text-indent", "-9999px");  
				
		 })
		 //Restore original node on mouse out.
		.on("mouseout", function(){ 
			d3.select(this)
				.style("background-image", "none")
				.style("max-width", "100%")
				.style("max-height", "100%")
				.style("background-size","100% 100%")
				.style("text-indent", "0");
			});
})
})
})
})
});				  
			
		 
		</script>
	</body>
</html>